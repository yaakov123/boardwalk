<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boardwalk Interaction Patterns Demo</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      line-height: 1.6;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      color: #333;
    }
    
    h1 {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .demo-section {
      margin-bottom: 40px;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 8px;
    }
    
    .demo-section h2 {
      margin-top: 0;
    }
    
    .feature-card {
      background-color: #f5f5f5;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    .feature-card h3 {
      margin-top: 0;
    }
    
    button {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin-right: 10px;
      margin-bottom: 10px;
    }
    
    button:hover {
      background-color: #45a049;
    }
    
    .controls {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    
    .pattern-selector {
      margin-bottom: 20px;
    }
    
    select, input {
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #ddd;
      margin-right: 10px;
    }
  </style>
  <!-- Import the Boardwalk library -->
  <script src="/dist/boardwalk.umd.js"></script>
</head>
<body>
  <h1>Boardwalk Interaction Patterns Demo</h1>
  
  <div class="demo-section">
    <h2>Interaction Pattern Controls</h2>
    <div class="pattern-selector">
      <label for="pattern-select">Select Interaction Pattern:</label>
      <select id="pattern-select">
        <option value="button">Button Navigation (Default)</option>
        <option value="click-to-continue">Click-to-Continue</option>
        <option value="auto-progress">Auto-Progress</option>
      </select>
      
      <label for="delay-input">Auto-Progress Delay (ms):</label>
      <input type="number" id="delay-input" value="5000" min="1000" step="1000">
      
      <button id="apply-settings">Apply Settings</button>
    </div>
    
    <div class="controls">
      <button id="start-tour">Start Tour</button>
      <button id="reset-tour">Reset Tour</button>
    </div>
  </div>
  
  <div class="demo-section">
    <h2 id="welcome-header">Welcome to Boardwalk</h2>
    <p>This demo showcases the different interaction patterns available in the Boardwalk library.</p>
    
    <div class="feature-card" id="feature-1">
      <h3>Button Navigation</h3>
      <p>The default interaction pattern. Users navigate through the tour using the next/previous buttons.</p>
    </div>
    
    <div class="feature-card" id="feature-2">
      <h3>Click-to-Continue</h3>
      <p>Users can click anywhere on the page to advance to the next step. Clicks on interactive elements like buttons are ignored.</p>
    </div>
    
    <div class="feature-card" id="feature-3">
      <h3>Auto-Progress</h3>
      <p>The tour automatically advances to the next step after a configurable delay. Users can still use the navigation buttons if they want to move faster.</p>
    </div>
    
    <div id="dashboard-link" class="feature-card">
      <h3>Mixed Patterns</h3>
      <p>You can also mix different interaction patterns within the same tour by setting the pattern at the step level.</p>
      <button id="example-button">This is an interactive element</button>
    </div>
  </div>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize tour with default settings
      let currentPattern = 'button';
      let currentDelay = 5000;
      let tour;
      
      // Create the tour
      function createTour() {
        // Create a new tour with the current settings
        tour = new Boardwalk.Tour({
          id: 'interaction-patterns-demo',
          title: 'Interaction Patterns Demo',
          showProgress: true,
          showStepNumbers: true,
          interactionPattern: currentPattern,
          autoProgressDelay: currentDelay
        });
        
        // Add steps to the tour
        tour.addSteps([
          {
            target: '#welcome-header',
            title: 'Welcome to Boardwalk',
            content: 'This tour demonstrates the different interaction patterns available in Boardwalk.',
            position: 'bottom'
          },
          {
            target: '#feature-1',
            title: 'Button Navigation',
            content: 'This is the default interaction pattern. Users navigate through the tour using the next/previous buttons.',
            position: 'right'
          },
          {
            target: '#feature-2',
            title: 'Click-to-Continue',
            content: 'With this pattern, users can click anywhere on the page to advance to the next step. Try clicking outside this tooltip!',
            position: 'right',
            // Override the tour's interaction pattern for this specific step
            interactionPattern: 'click-to-continue'
          },
          {
            target: '#feature-3',
            title: 'Auto-Progress',
            content: 'This step will automatically advance after the configured delay. You can still use the buttons if you want to move faster.',
            position: 'right',
            // Override the tour's interaction pattern for this specific step
            interactionPattern: 'auto-progress',
            autoProgressDelay: 8000 // 8 seconds for this step
          },
          {
            target: '#dashboard-link',
            title: 'Mixed Patterns',
            content: 'You can mix different interaction patterns within the same tour. Try clicking the button inside this card - it should NOT advance the tour since it\'s an interactive element.',
            position: 'top'
          }
        ]);
        
        return tour;
      }
      
      // Initialize the tour
      tour = createTour();
      
      // Event listeners
      document.getElementById('start-tour').addEventListener('click', function() {
        tour.start();
      });
      
      document.getElementById('reset-tour').addEventListener('click', function() {
        tour.end();
        tour = createTour();
      });
      
      document.getElementById('apply-settings').addEventListener('click', function() {
        // Get selected pattern and delay
        const patternSelect = document.getElementById('pattern-select');
        const delayInput = document.getElementById('delay-input');
        
        currentPattern = patternSelect.value;
        currentDelay = parseInt(delayInput.value, 10);
        
        // End current tour if it's active
        if (tour) {
          tour.end();
        }
        
        // Create new tour with updated settings
        tour = createTour();
        
        // Show confirmation
        alert(`Settings applied! Interaction Pattern: ${currentPattern}, Auto-Progress Delay: ${currentDelay}ms`);
      });
      
      // Example button that shouldn't trigger tour advancement in click-to-continue mode
      document.getElementById('example-button').addEventListener('click', function(e) {
        alert('Button clicked! In click-to-continue mode, this should NOT advance the tour.');
      });
    });
  </script>
</body>
</html>
